IntStream.range(0, 30)
    .mapToObj(i -> generator.generate(wrapper))
    .takeWhile(Objects::nonNull)
    .map(Wrapper::unwrap)
    .peek(n -> assertNotNull("Generator not available: " + generator, n))
    .filter(Objects::nonNull)
    .filter(n -> min == null || Double.compare(n.doubleValue(), min.doubleValue()) >= 0)
    .filter(n -> max == null || Double.compare(n.doubleValue(), max.doubleValue()) <= 0)
    .forEach(n -> {})